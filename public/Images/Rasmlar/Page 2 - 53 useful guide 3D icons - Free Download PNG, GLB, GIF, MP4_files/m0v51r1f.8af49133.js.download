(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1006:function(t,e,n){"use strict";n(562)},1009:function(t,e,n){"use strict";n(565)},1027:function(t,e,n){"use strict";n(583)},1028:function(t,e,n){"use strict";n(584)},1029:function(t,e,n){"use strict";n(585)},1033:function(t,e,n){"use strict";n(589)},1034:function(t,e,n){"use strict";n(590)},248:function(t,e,n){"use strict";var r=n(9),o=n(4),c=(n(13),n(15),n(37),n(69),n(459),n(48),n(523),n(1)),l=n(0),_=n(10),d=n(90),h=n(40),v=n(18),m=n(2),O=n(620),f=n(25),y=n(71),C=n(132),A=n(17),T=n(24),w=n(26),P=n(28);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x=class extends(Object(l.d)(d.a)){constructor(){super(...arguments),this.isLoadingInvoices=!1,this.SUBSCRIPTION=m.n}get previousSubscriptionPrice(){if(this.subscriptionInfo.price){if(this.isAnnuallyPlan){var t=this.sanitizePrice(Number(this.subscriptionInfo.price.replace(/[^0-9\.]+/g,""))/12),e=this.subscriptionInfo.price.match(/[^\d,]/g).join("");return"".concat(e).concat(t)}return this.subscriptionInfo.price}return null}get defaultDownloadLimit(){var t;return null===(t=this.user)||void 0===t?void 0:t.limits.exportsDefault.daily}get hqImageLimit(){var t;return null===(t=this.user)||void 0===t?void 0:t.limits.exportsImage.monthly}get hqVideoLimit(){var t;return null===(t=this.user)||void 0===t?void 0:t.limits.exportsVideo.monthly}get aiUsageLimit(){var t;return null===(t=this.user)||void 0===t?void 0:t.limits.aiUses.monthly}get openInBlankTab(){return["CustomizerEditor","Editor"].includes(this.$route.name)}get subscription(){return this.subscriptionInfo.subscription}get expireDate(){return Object(C.a)(this.subscriptionInfo.currentPeriodEnd)}get upgradePlanTitle(){return this.$t?this.$t("page.upgrade_plan.do_more.upgrade_now"):"Upgrade now"}get isFreePlan(){return this.subscription===m.n.BASIC}get isAnnuallyPlan(){return this.subscription===m.n.ELITE_ANNUALLY||this.subscription===m.n.PRO_ANNUALLY}get plan(){if(this.paymentStatus===m.i.FREE_TRIAL)return h.a;var t=this.getPricingForUser;if(this.subscription===m.n.PRO_QUARTERLY)return{name:this.$t?this.$t("page.user_settings.subscription.plan_name.pro_quarterly_plan"):"Pro Quarterly Plan",price:this.previousSubscriptionPrice,period:"For 3 months"};if(this.subscription===m.n.ELITE_QUARTERLY)return{name:this.$t?this.$t("page.user_settings.subscription.plan_name.elite_quarterly_plan"):"Elite Quarterly Plan",price:this.previousSubscriptionPrice,period:"For 3 months"};var e={[m.n.BASIC]:{name:this.$t?this.$t("page.user_settings.subscription.plan_name.free_plan"):"FREE Plan.",price:"FREE",period:null},[m.n.PRO_ANNUALLY]:{name:this.$t?this.$t("page.user_settings.subscription.plan_name.pro_annual_plan"):"Pro Annual Plan",price:t.CURRENCY_PREFIX+this.sanitizePrice(t.PRO_ANNUAL/12),period:this.$t?this.$t("page.user_settings.subscription.per_year"):"Per year"},[m.n.ELITE_ANNUALLY]:{name:this.$t?this.$t("page.user_settings.subscription.plan_name.elite_annual_plan"):"Elite Annual Plan",price:t.CURRENCY_PREFIX+this.sanitizePrice(t.ELITE_ANNUAL/12),period:this.$t?this.$t("page.user_settings.subscription.per_year"):"Per year"}};return t.PRO_MONTH&&(e[m.n.PRO_MONTHLY]={name:this.$t?this.$t("page.user_settings.subscription.plan_name.pro_monthly_plan"):"Pro Monthly Plan",price:t.CURRENCY_PREFIX+this.sanitizePrice(t.PRO_MONTH),period:this.$t?this.$t("page.user_settings.subscription.per_month"):"Per month"}),t.PRO_QUARTER&&(e[m.n.PRO_QUARTERLY]={name:this.$t?this.$t("page.user_settings.subscription.plan_name.pro_quarterly_plan"):"Pro Quarterly Plan",price:t.CURRENCY_PREFIX+this.sanitizePrice(t.PRO_QUARTER),period:this.$t?this.$t("page.user_settings.subscription.for_3_months"):"For 3 months"}),t.ELITE_MONTH&&(e[m.n.ELITE_MONTHLY]={name:this.$t?this.$t("page.user_settings.subscription.plan_name.elite_monthly_plan"):"Elite Monthly Plan",price:t.CURRENCY_PREFIX+this.sanitizePrice(t.ELITE_MONTH),period:this.$t?this.$t("page.user_settings.subscription.per_month"):"Per month"}),t.ELITE_QUARTER&&(e[m.n.ELITE_QUARTERLY]={name:this.$t?this.$t("page.user_settings.subscription.plan_name.elite_quarterly_plan"):"Elite Quarterly Plan",price:t.CURRENCY_PREFIX+this.sanitizePrice(t.ELITE_QUARTER),period:this.$t?this.$t("page.user_settings.subscription.for_3_months"):"For 3 months"}),e[this.subscription||m.n.BASIC]}get downloadsLimit(){var t;return[{title:this.$t?this.$t("page.user_settings.subscription.downloads_limit.default"):"Default-quality image + video",limit:this.isUnsubscribedUser?h.d.DEFAULT_DOWNLOAD.FREE:this.isProUser?h.d.DEFAULT_DOWNLOAD.PRO:h.d.DEFAULT_DOWNLOAD.ELITE,usage:this.isUnsubscribedUser?this.defaultDownloadLimit:null,thumbnail:"".concat(P.a.ROOT_URL,"/cdn/app/download-queue/format-default.webp"),prefix:this.$t?this.$t("page.user_settings.subscription.per_day"):"per day",tag:null},{title:this.$t?this.$t("page.user_settings.subscription.downloads_limit.hq_image"):"High-quality image",limit:this.isUnsubscribedUser?h.d.HQ_IMAGE_DOWNLOAD.FREE:this.isProUser?h.d.HQ_IMAGE_DOWNLOAD.PRO:h.d.HQ_IMAGE_DOWNLOAD.ELITE,usage:this.hqImageLimit,thumbnail:"".concat(P.a.ROOT_URL,"/cdn/app/download-queue/format-image.webp"),prefix:this.$t?this.$t("page.user_settings.subscription.per_month"):"per month",tag:"HQ"},{title:this.$t?this.$t("page.user_settings.subscription.downloads_limit.hq_video"):"High-quality video",limit:this.isUnsubscribedUser?h.d.HQ_VIDEO_DOWNLOAD.FREE:this.isProUser?h.d.HQ_VIDEO_DOWNLOAD.PRO:h.d.HQ_VIDEO_DOWNLOAD.ELITE,usage:this.hqVideoLimit,hasTopUp:(null===(t=this.user)||void 0===t?void 0:t.limits.exportsVideo.additional)>0,thumbnail:"".concat(P.a.ROOT_URL,"/cdn/app/download-queue/format-video.webp"),prefix:this.$t?this.$t("page.user_settings.subscription.per_month"):"per month",tag:"HQ"}]}get aiLimits(){return{title:this.$t?this.$t("page.user_settings.subscription.ai_limits.ai_uses"):"AI uses",limit:this.isUnsubscribedUser?h.d.AI_USAGE.FREE:this.isProUser?h.d.AI_USAGE.PRO:h.d.AI_USAGE.ELITE,usage:this.aiUsageLimit,thumbnail:"".concat(P.a.ROOT_URL,"/cdn/app/icons/star-icon.png"),prefix:this.$t?this.$t("page.user_settings.subscription.per_month"):"per month"}}handleUpgradePlan(t){this.openInBlankTab?window.open(t):this.$router.push(t)}handlePendingOrFailedPayment(){this.subscriptionDueRenewal?window.location.href=this.$router.resolve({name:"PricingPage"}).href:this.isSubscribedWithStripe?this.openCustomerPortal():this.subscription==m.n.PRO_MONTHLY||this.subscription==m.n.PRO_QUARTERLY||this.subscription==m.n.PRO_ANNUALLY?this.handleGetPro():this.subscription!=m.n.ELITE_MONTHLY&&this.subscription!=m.n.ELITE_QUARTERLY&&this.subscription!=m.n.ELITE_ANNUALLY||this.handleGetElite()}clickCancel(){v.e.toggleCancelPlanModal(this.$store)}sanitizePrice(t){return t%1==0?t.toLocaleString("en-US"):Number(t.toFixed(2)).toLocaleString("en-US")}clickRenew(){var t=this;return Object(o.a)((function*(){t.isLoading=!0,yield v.b.renewSubscription(t.$store),t.isLoading=!1}))()}openInvoicesPortalPortal(){var t=this;return Object(o.a)((function*(){t.isLoadingInvoices=!0;var e=yield v.b.fetchInvoicesPortal(t.$store);if(t.isLoadingInvoices=!1,e){var n=window.open(e);n&&!n.closed||(window.location.href=e)}}))()}},I=x=Object(c.a)([Object(l.a)({name:"Subscription",components:{IconCrown:y.a,BodyText:A.a,HeadingText:T.a,CaptionText:w.a,Button:f.a,UpgradeButton:O.a},computed:S(S({},Object(_.c)(m.h,{user:t=>{var e;return null===(e=t.personalData)||void 0===e?void 0:e.user}})),Object(_.b)(m.h,{isUnsubscribedUser:m.d.IS_UNSUBSCRIBED_USER,isCanceledSubscription:m.d.IS_CANCELED_SUBSCRIPTION,isFreeTrialActive:m.d.IS_FREE_TRIAL_ACTIVE,getPricingForUser:m.d.GET_PRICING_FOR_USER}))})],x),$=(n(1006),n(3)),component=Object($.a)(I,(function(){var t,e=this,n=e._self._c;e._self._setupProxy;return n("div",{staticClass:"flex flex-column subscription-page"},[n("div",{staticClass:"subscription-section"},[n("BodyText",{staticClass:"mb-m",attrs:{size:"large","tag-name":"div",weight:"semibold"}},[e._v(e._s(e.$t?e.$t("page.user_settings.subscription.plan"):"Plan"))]),e._v(" "),e.subscriptionPending||e.subscriptionFailed||e.subscriptionDueRenewal?n("section",{staticClass:"plan"},[n("div",{staticClass:"plan__name"},[e._v(e._s(e.$t?e.$t("page.user_settings.subscription.on_free"):"You're now on FREE account"))]),e._v(" "),e.isSubscribedWithTazapay?n("div",{staticClass:"plan__error"},[e.subscriptionDueRenewal?[e._v("\n\t\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.sub_expired"):"**Your subscription has expired.")+"\n\t\t\t\t")]:[e._v("\n\t\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.payment_unsucess"):"**Your payment was unsuccessful, please try subscribing again.")+"\n\t\t\t\t")]],2):e.subscriptionPending?n("div",{staticClass:"plan__error"},[e._v("\n\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.payment_pending"):"**Your payment is pending, please check to continue the payment")+".\n\t\t\t")]):e.subscriptionFailed?n("div",{staticClass:"plan__error"},[e._v("\n\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.payment_invalid"):"**Your payment is invalid, please check and update your payment details")+".\n\t\t\t")]):e.subscriptionDueRenewal?n("div",{staticClass:"plan__error"},[e._v("\n\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.plan_to_renew"):"**Please choose a plan to renew")+".\n\t\t\t")]):e._e(),e._v(" "),n("Button",{attrs:{width:120,"btn-text":e.subscriptionFailed?e.$t?e.$t("page.user_settings.subscription.check_payment"):"Check payment":e.subscriptionPending?e.$t?e.$t("page.user_settings.subscription.go_to_payment"):"Go to payment":e.$t?e.$t("page.user_settings.subscription.choose_a_plan"):"Choose a plan","btn-style":"primary",size:"small",loading:e.isLoading&&"Please wait ..."},on:{handleMouseDownLeft:e.handlePendingOrFailedPayment}}),e._v(" "),n("div",{staticClass:"plan__message"},[n("p",[e._v("\n\t\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.complete_payment_in_your_plan",{plan:e.plan.name}):"Complete the payment to continue your ".concat(e.plan.name,"."))+"\n\t\t\t\t")])]),e._v(" "),e.isSubscribedWithTazapay?e._e():n("button",{staticClass:"plan__cancel",on:{click:e.clickCancel}},[e._v("\n\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.cancel_plan"):"Cancel Plan")+"\n\t\t\t")])],1):e._e(),e._v(" "),e.isUnsubscribedUser?n("section",{staticClass:"plan"},[n("HeadingText",{staticClass:"text-color-neutral-9 mb-m",attrs:{size:"small",weight:"bold"}},[e._v(e._s(e.$t("common_elements.free")))]),e._v(" "),n("BodyText",{staticClass:"text-color-neutral-7",attrs:{"tag-name":"div",size:"small"}},[e._v(e._s(e.$t?e.$t("page.user_settings.subscription.free_text"):"This plan comes with limited assets and features.")+"\n\t\t\t")]),e._v(" "),n("BodyText",{staticClass:"text-color-neutral-7",attrs:{"tag-name":"div",size:"small"}},[e._v("\n\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.free_text_2"):"Upgrade to get unlimited access on 15,000+ premium assets & HQ downloads."))]),e._v(" "),n("router-link",{attrs:{tag:"div",to:{name:"PricingPage"},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var{href:r}=t;return[n("Button",{staticClass:"upgrade-cta",attrs:{"btn-size":"large","text-size":"medium",color:"primary"},nativeOn:{click:function(t){return e.handleUpgradePlan(r)}}},[e._v("\n\t\t\t\t\t"+e._s(e.upgradePlanTitle)+"\n\t\t\t\t")])]}}],null,!1,339361891)})],1):n("section",{staticClass:"plan"},[n("BodyText",{staticClass:"text-color-neutral-9 mb-m",attrs:{"tag-name":"div",size:"small",weight:"semibold"}},[e._v(e._s(null===(t=e.plan)||void 0===t?void 0:t.name))]),e._v(" "),e.isSubscribedWithTazapay?e._e():n("div",{staticClass:"plan__price"},[n("HeadingText",{staticClass:"price text-color-neutral-9",attrs:{weight:"bold"}},[e._v(e._s(e.previousSubscriptionPrice?e.previousSubscriptionPrice:e.plan.price))]),e._v(" "),e.plan.period?n("div",{staticClass:"flex flex-column"},[n("CaptionText",{staticClass:"text-color-neutral-5",attrs:{weight:"semibold",size:"small"}},[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("page.user_settings.subscription.per_month").toLowerCase())+"\n\t\t\t\t\t")]),e._v(" "),e.isAnnuallyPlan?n("CaptionText",{staticClass:"text-color-neutral-5",attrs:{weight:"semibold",size:"small"}},[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("page.user_settings.subscription.billed_annually").toLowerCase())+"\n\t\t\t\t\t")]):e._e()],1):e._e()],1),e._v(" "),n("div",{staticClass:"plan__action"},[e.isCanceledSubscription||e.isFreeTrialActive||!e.isSubscribedWithStripe?e._e():n("Button",{staticClass:"upgrade-cta",attrs:{"is-loading":e.isLoading,"btn-size":"large","text-size":"medium",color:"primary"},nativeOn:{click:function(t){return e.openCustomerPortal.apply(null,arguments)}}},[e._v("\n\t\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.change_plan"):"Change Plan")+"\n\t\t\t\t")])],1),e._v(" "),!e.subscriptionActive||e.isCanceledSubscription||e.isSubscribedWithTazapay?e._e():n("button",{staticClass:"plan__cancel",on:{click:e.clickCancel}},[e._v("\n\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.cancel_plan"):"Cancel Plan")+"\n\t\t\t")]),e._v(" "),!e.isCanceledSubscription||e.isSubscribedWithXendit||e.isSubscribedWithTazapay?e._e():n("Button",{staticClass:"upgrade-cta plan__renew",attrs:{color:"secondary","btn-size":"large","text-size":"medium","is-loading":e.isLoading,"btn-text":"Renew Plan"},nativeOn:{click:function(t){return e.clickRenew.apply(null,arguments)}}},[e._v("\n\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.renew_plan"):"Renew Plan")+"\n\t\t\t")]),e._v(" "),e.isFreePlan?e._e():n("div",{staticClass:"plan__next-payment",style:{position:!e.isCanceledSubscription||e.isSubscribedWithXendit||e.isSubscribedWithTazapay?"absolute":"static"}},[e.isCanceledSubscription||e.isSubscribedWithTazapay?n("span",[e._v("\n\t\t\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.plan_end_on"):"Plan ends on")+"\n\t\t\t\t")]):n("span",[e._v(e._s(e.$t?e.$t("page.user_settings.subscription.next_payment"):"Next payment"))]),e._v(" "),n("h3",[e._v(e._s(e.expireDate))])])],1),e._v(" "),e.isSubscribedWithStripe?n("Button",{staticClass:"view-invoice-btn text-underline mt-xs",attrs:{"is-loading":e.isLoadingInvoices,variant:"text",color:"neutral","btn-size":"small"},nativeOn:{click:function(t){return e.openInvoicesPortalPortal.apply(null,arguments)}}},[e._v("\n\t\t\t"+e._s(e.$t?e.$t("page.user_settings.subscription.view_all_invoice"):"View all invoices")+"\n\t\t")]):e._e()],1),e._v(" "),n("div",{staticClass:"downloads-limits-section limit-section"},[n("BodyText",{staticClass:"mb-m",attrs:{size:"large","tag-name":"div",weight:"semibold"}},[e._v(e._s(e.$t?e.$t("page.user_settings.subscription.downloads"):"Downloads"))]),e._v(" "),n("div",{staticClass:"card"},e._l(e.downloadsLimit,(function(t,r){var o,c;return n("div",{key:"download-".concat(r),staticClass:"card-item"},[n("div",{staticClass:"relative card-img"},[n("img",{attrs:{src:t.thumbnail,alt:"limit thumbnail"}}),e._v(" "),t.tag?n("div",{staticClass:"img-tag"},[n("CaptionText",{staticClass:"text-color-white",attrs:{size:"small",weight:"semibold"}},[e._v(e._s(t.tag))])],1):e._e()]),e._v(" "),n("div",{staticClass:"flex flex-1 flex-column gap-6"},[n("div",{staticClass:"flex justify-between card-text"},[n("BodyText",{attrs:{size:"small"}},[e._v(e._s(t.title))]),e._v(" "),n("div",{staticClass:"flex gap-4"},[n("BodyText",{attrs:{size:"small"}},[t.limit?[n("strong",[e._v(e._s(t.limit-t.usage)+" / "+e._s(t.limit))])]:0!==t.limit?[e._v(e._s(e.$t?e.$t("page.upgrade_plan.unlimited"):"Unlimited")+" ")]:[n("strong",[e._v("0")])],e._v(" "),t.limit||0===t.limit?n("span",[e._v(e._s(t.prefix))]):e._e()],2),e._v(" "),t.hasTopUp?n("BodyText",{attrs:{size:"small"}},[e._v("\n\t\t\t\t\t\t\t\t- "+e._s(e.$t?e.$t("page.user_settings.subscription.topped_up"):"Topped up")+":\n\t\t\t\t\t\t\t\t"),n("strong",[e._v(e._s(null===(o=e.user)||void 0===o?void 0:o.limits.exportsVideo.additional))])]):e._e()],1)],1),e._v(" "),t.limit&&0!==t.limit?n("div",{staticClass:"progress-bar"},[t.hasTopUp?n("div",{staticClass:"progress-bar__progress nowrap",style:{width:"".concat((t.limit-t.usage)/(t.limit+(null===(c=e.user)||void 0===c?void 0:c.limits.exportsVideo.additional))*100,"%")}}):n("div",{staticClass:"progress-bar__progress nowrap",style:{width:"".concat((t.limit-t.usage)/t.limit*100,"%")}})]):e._e()])])})),0)],1),e._v(" "),n("div",{staticClass:"ai-limits-section limit-section"},[n("BodyText",{staticClass:"mb-m",attrs:{size:"large","tag-name":"div",weight:"semibold"}},[e._v(e._s(e.$t?e.$t("page.user_settings.subscription.ai_style"):"AI Style Transfer"))]),e._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-item"},[n("div",{staticClass:"relative card-img"},[n("img",{attrs:{src:e.aiLimits.thumbnail,alt:"limit thumbnail"}})]),e._v(" "),n("div",{staticClass:"flex flex-1 flex-column gap-6"},[n("div",{staticClass:"flex justify-between"},[n("BodyText",{attrs:{size:"small"}},[e._v(e._s(e.aiLimits.title))]),e._v(" "),n("BodyText",{attrs:{size:"small"}},[e.aiLimits.limit?[n("strong",[e._v(e._s(e.aiLimits.limit-e.aiLimits.usage)+" / "+e._s(e.aiLimits.limit))])]:[e._v(e._s(e.$t?e.$t("page.upgrade_plan.unlimited"):"Unlimited")+" ")],e._v(" "),e.aiLimits.limit?n("span",[e._v(e._s(e.aiLimits.prefix))]):e._e()],2)],1),e._v(" "),e.aiLimits.limit?n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-bar__progress nowrap",style:{width:"".concat((e.aiLimits.limit-e.aiLimits.usage)/e.aiLimits.limit*100,"%")}})]):e._e()])])])],1)])}),[],!1,null,"78822c59",null);e.a=component.exports},562:function(t,e,n){t.exports={}},565:function(t,e,n){t.exports={}},583:function(t,e,n){t.exports={}},584:function(t,e,n){t.exports={}},585:function(t,e,n){t.exports={}},589:function(t,e,n){t.exports={}},590:function(t,e,n){t.exports={}},639:function(t,e,n){"use strict";var r=n(9),o=(n(13),n(15),n(1)),c=n(0),l=n(10),_=n(18),d=n(2),h=(n(37),n(69),n(250)),v=n(249),m=n(248),O=n(242),f=n(613),y=n(91),C=n(30),A=n(78);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=class extends c.h{constructor(){super(...arguments),this.MY_ACCOUNT_TAB=d.f,this.TEXT_TABS_SHOW=C.f}get tabs(){var t,e,n=[d.f.ACCOUNT_SETTINGS,d.f.SUBSCRIPTION,d.f.CHANGE_PASSWORD,d.f.EMAIL_NOTIFICATIONS];return null!==(t=this.personalData)&&void 0!==t&&null!==(e=t.user)&&void 0!==e&&e.isFederated?n.filter((t=>t!==d.f.CHANGE_PASSWORD)):n}switchTab(t){t!==this.activeMyAccountTab&&_.e.setActiveMyAccountTab(this.$store,t)}mounted(){this.$nextTick((()=>{if(this.$route.query[A.a]===A.b){_.e.setActiveMyAccountTab(this.$store,d.f.EMAIL_NOTIFICATIONS);var t=w({},this.$route.query);delete t[A.a],this.$router.replace(w(w({},this.$route),{},{query:t}))}}))}},E=P=Object(o.a)([Object(c.a)({name:"MyAccount",components:{AccountSettingForm:h.a,ChangePasswordForm:v.a,Subscription:m.a,Modal:y.a,AccountNavLink:O.a,EmailNotifications:f.a},computed:w({},Object(l.c)(d.h,{personalData:t=>t.personalData,activeMyAccountTab:t=>t.activeMyAccountTab,emailNotifications:t=>t.emailNotifications}))})],P),S=(n(1027),n(3)),x=Object(S.a)(E,(function(){var t,e=this,n=e._self._c;e._self._setupProxy;return n("Modal",{attrs:{width:950,height:700,padding:0,variant:"dark"},on:{closeModal:function(t){return e.$emit("closeModal")}}},[n("div",{staticClass:"modal-content"},[n("aside",e._l(e.tabs,(function(t){return n("AccountNavLink",{key:t,attrs:{active:e.activeMyAccountTab===t,text:t},on:{click:function(n){return e.switchTab(t)}}})})),1),e._v(" "),n("main",[n("h3",[e._v(e._s(e.TEXT_TABS_SHOW[e.activeMyAccountTab].title))]),e._v(" "),n("AccountSettingForm",{directives:[{name:"show",rawName:"v-show",value:e.activeMyAccountTab===e.MY_ACCOUNT_TAB.ACCOUNT_SETTINGS,expression:"activeMyAccountTab === MY_ACCOUNT_TAB.ACCOUNT_SETTINGS"}],attrs:{user:(null===(t=e.personalData)||void 0===t?void 0:t.user)||{}}}),e._v(" "),n("Subscription",{directives:[{name:"show",rawName:"v-show",value:e.activeMyAccountTab===e.MY_ACCOUNT_TAB.SUBSCRIPTION,expression:"activeMyAccountTab === MY_ACCOUNT_TAB.SUBSCRIPTION"}]}),e._v(" "),n("ChangePasswordForm",{directives:[{name:"show",rawName:"v-show",value:e.activeMyAccountTab===e.MY_ACCOUNT_TAB.CHANGE_PASSWORD,expression:"activeMyAccountTab === MY_ACCOUNT_TAB.CHANGE_PASSWORD"}]}),e._v(" "),n("EmailNotifications",{directives:[{name:"show",rawName:"v-show",value:e.activeMyAccountTab===e.MY_ACCOUNT_TAB.EMAIL_NOTIFICATIONS,expression:"activeMyAccountTab === MY_ACCOUNT_TAB.EMAIL_NOTIFICATIONS"}],attrs:{emailNotifications:e.emailNotifications}})],1)])])}),[],!1,null,"71a0f8ef",null).exports,I=n(36),$=n(281);function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var R=class extends c.h{};Object(o.a)([Object(c.e)()],R.prototype,"variant",void 0);var N=R=Object(o.a)([Object(c.a)({name:"UserInfo",components:{Avatar:$.a},computed:j(j({},Object(l.c)(d.h,{personalData:t=>t.personalData})),Object(l.b)(d.h,{subscriptionText:d.d.SUBSCRIPTION_TEXT}))})],R),U=(n(1028),Object(S.a)(N,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.personalData?e("div",{staticClass:"user-info"},[e("Avatar",{attrs:{variant:t.variant,user:t.personalData.user}}),t._v(" "),e("div",{staticClass:"__details"},[e("strong",[t._v(t._s(t.personalData.user.email))]),t._v(" "),e("span",[t._v(t._s(t.subscriptionText))])])],1):t._e()}),[],!1,null,"b1ce474e",null).exports),M=n(106);function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var B=class extends c.h{constructor(){super(...arguments),this.MY_ACCOUNT_TAB=d.f,this.isDefaultView=!0}get tabs(){var t,e=[d.f.ACCOUNT_SETTINGS,d.f.SUBSCRIPTION];return null!==(t=this.personalData)&&void 0!==t&&t.user.isFederated||e.push(d.f.CHANGE_PASSWORD),e}get headerTitle(){return this.isDefaultView?"SETTINGS":C.f[this.activeMyAccountTab]}switchTab(t){_.e.setActiveMyAccountTab(this.$store,t),this.isDefaultView=!1}handleClose(){this.isDefaultView?this.$emit("closeModal"):this.isDefaultView=!0}handleLogOut(){I.b.logout(this.$store,{sessionChange:!1}),this.$emit("closeModal")}};B=Object(o.a)([Object(c.a)({name:"MyAccountMobile",components:{AccountNavLink:O.a,AccountSettingForm:h.a,ChangePasswordForm:v.a,Subscription:m.a,UserInfo:U,IconArrowRight:M.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(l.c)(d.h,{personalData:t=>t.personalData,activeMyAccountTab:t=>t.activeMyAccountTab}))})],B);var F=B,k=(n(1029),Object(S.a)(F,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"myacount-container"},[e("div",{staticClass:"myaccount--header"},[e("i",{staticClass:"icon-back",on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.handleClose.apply(null,arguments)}}},[e("IconArrowRight",{attrs:{width:15}})],1),t._v(" "),e("h3",{staticClass:"--title"},[t._v(t._s(t.headerTitle))])]),t._v(" "),e("div",{staticClass:"myaccount--body"},[t.isDefaultView?e("div",{staticClass:"settings-tab"},[e("UserInfo",{style:{"margin-left":"20px"},attrs:{variant:"md"}}),t._v(" "),t._l(t.tabs,(function(n){return e("AccountNavLink",{key:n,attrs:{active:t.activeMyAccountTab===n,text:n},on:{click:function(e){return t.switchTab(n)}}})}))],2):t.personalData?e("div",{staticClass:"settings-content"},[t.activeMyAccountTab===t.MY_ACCOUNT_TAB.ACCOUNT_SETTINGS?e("AccountSettingForm",{attrs:{user:t.personalData.user}}):t.activeMyAccountTab===t.MY_ACCOUNT_TAB.SUBSCRIPTION?e("Subscription"):t.activeMyAccountTab===t.MY_ACCOUNT_TAB.CHANGE_PASSWORD?e("ChangePasswordForm"):t._e()],1):t._e()]),t._v(" "),e("strong",{staticClass:"logout-button",on:{click:t.handleLogOut}},[t._v("Logout")])])}),[],!1,null,"705fdb7b",null)),z=k.exports,Y=n(4),H=n(8),W=n(744),V=n(188),G=n(33),Q=n(65),X=n(757),J=n(635);function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var K=class extends c.h{constructor(){super(...arguments),this._cropInfo=null,this.imgFile=null,this.imageCropInfo=null,this.isLoading=!0,this.avatarWidth=235,this.avatarHeight=235}onCropChange(t){this._cropInfo=t}toggleCroppAvatar(){_.e.toggleCroppAvatar(this.$store,null)}handleSaveImage(){var t=this;return Object(Y.a)((function*(){try{var e;t.isLoading=!0;var n=yield Object(J.a)(t.imgFile,{width:t.avatarWidth,height:t.avatarHeight},(null===(e=t._cropInfo)||void 0===e?void 0:e.cropBox)||t.imageCropInfo.cropBox,!0);yield _.b.changeAvatar(t.$store,n),t.toggleCroppAvatar()}catch(t){Object(G.$notify)({type:H.f.ERROR,title:"Error while updating avatar"})}finally{t.isLoading=!1}}))()}created(){var t=this;return Object(Y.a)((function*(){var e=new FileReader;e.onload=function(){var e=Object(Y.a)((function*(e){t.imgFile=e.target.result;var n=yield Object(X.a)(t.imgFile,{width:t.avatarWidth,height:t.avatarHeight}),{w:r,h:o}=n.imageSize,c=r/o>=1?t.avatarWidth/r:t.avatarHeight/o;t.imageCropInfo={imageBox:{width:n.imageSize.w,height:n.imageSize.h},renderBox:{width:r*c,height:o*c},cropBox:n.cropBox},t.isLoading=!1}));return function(t){return e.apply(this,arguments)}}(),e.readAsDataURL(t.imgSrc)}))()}};K=Object(o.a)([Object(c.a)({name:"UserAvatarCropper",components:{Modal:y.a,Button:Q.a,LoadingState:V.a,Cropper:W.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(l.c)(d.h,{imgSrc:t=>t.CroppPictureModal}))})],K);var tt=K,et=(n(1033),Object(S.a)(tt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Modal",{attrs:{width:350,height:350,padding:0,"without-close-button":!0,variant:"dark"}},[e("div",{staticClass:"cropper-container--radius"},[e("div",{staticClass:"relative background-transparent",style:{width:"".concat(t.avatarWidth,"px"),height:"".concat(t.avatarHeight,"px")}},[t.imageCropInfo?e("Cropper",{attrs:{"image-box":t.imageCropInfo.renderBox,"image-url":t.imgFile,"image-crop-box":t.imageCropInfo.cropBox,"image-render-box":t.imageCropInfo.renderBox},on:{onChange:t.onCropChange}}):t._e()],1)]),t._v(" "),t.isLoading?e("LoadingState"):t._e(),t._v(" "),e("div",{staticClass:"control-button"},[e("Button",{staticClass:"offset-button",attrs:{width:100,"btn-style":"neutral_dark","btn-text":t.$t?t.$t("common_elements.cancel"):"Cancel"},on:{handleMouseDownLeft:t.toggleCroppAvatar}}),t._v(" "),e("Button",{attrs:{width:"auto","btn-style":"primary","btn-text":t.$t?t.$t("page.user_settings.account_settings.save_photo"):"Save image"},on:{handleMouseDownLeft:t.handleSaveImage}})],1)],1)}),[],!1,null,"79668888",null).exports),it=n(84);function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var nt=class extends c.h{constructor(){super(...arguments),this.isMobileView=!1}checkMobileView(){var t=window.innerWidth<=743;this.isMobileView=t}toggleAccountSettingModal(){_.e.toggleAccountSettingModal(this.$store)}mounted(){this._handleScreenSize=this.checkMobileView.bind(this),window.addEventListener("resize",this._handleScreenSize),this.checkMobileView()}beforeDestroy(){var{contextProvider:t}=this.$pixcap.$widgets;t.resetProviderInjections(it.a.DASHBOARD_LAYOUT),window.removeEventListener("resize",this._handleScreenSize)}},ot=nt=Object(o.a)([Object(c.a)({name:"MyAccountModal",components:{MyAccount:x,MyAccountMobile:z,UserAvatarCropper:et},computed:at(at({},Object(l.c)(d.h,{CroppPictureModal:t=>t.CroppPictureModal})),Object(l.b)(d.h,{showMyAccountModal:d.d.SHOW_MY_ACCOUNT_MODAL}))})],nt),ct=(n(1034),Object(S.a)(ot,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"myaccount--modals"},[t.showMyAccountModal?[t.isMobileView?e("MyAccountMobile",{on:{closeModal:t.toggleAccountSettingModal}}):e("MyAccount",{on:{closeModal:t.toggleAccountSettingModal}})]:t._e(),t._v(" "),t.CroppPictureModal?e("UserAvatarCropper"):t._e()],2)}),[],!1,null,"3102eb18",null));e.a=ct.exports},676:function(t,e,n){"use strict";n(13),n(15);var r=n(1),o=n(0),c=n(30),l=n(8),_=n(18),d=n(281),h=n(269),v=n(33),m=n(17),O=n(25),f=class extends o.h{constructor(){super(...arguments),this.previewAvatarFile="",this.AVATAR_SIZE_LIMIT=c.c,this.AVATAR_MIN_WIDTH=c.b}handleChangeAvatar(){this.$refs.avatarInput.click()}previewAvatar(t){var e=t.target.files;if(e.length){var n=e[0];if(this.$refs.avatarInput.value="",n.size/1e3/1024>c.c)return void Object(v.$notify)({type:l.f.ERROR,title:"Image cannot be larger than 5MB"});_.e.toggleCroppAvatar(this.$store,n)}}};Object(r.a)([Object(o.e)()],f.prototype,"user",void 0);var y=f=Object(r.a)([Object(o.a)({name:"ChangeAvatar",components:{Button:O.a,BodyText:m.a,IconCamera:h.a,Avatar:d.a}})],f),C=(n(1009),n(3)),component=Object(C.a)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"mb-l"},[e("div",{staticClass:"change-avatar-content flex gap-24 justify-between align-center"},[e("div",{staticClass:"avatar-infos"},[e("div",{staticClass:"avatar-container"},[t.previewAvatarFile?t._e():e("Avatar",{attrs:{user:t.user}}),t._v(" "),e("canvas",{directives:[{name:"show",rawName:"v-show",value:t.previewAvatarFile,expression:"previewAvatarFile"}],ref:"preview",attrs:{width:64,height:64}})],1),t._v(" "),e("div",{staticClass:"flex flex-column"},[e("BodyText",{attrs:{size:"small"}},[t._v(" Min. "+t._s(t.AVATAR_MIN_WIDTH)+"x"+t._s(t.AVATAR_MIN_WIDTH)+"px ")]),t._v(" "),e("BodyText",{attrs:{size:"small"}},[t._v(" PNG or JPEG format ")])],1)]),t._v(" "),e("div",{staticClass:"avatar-cta"},[e("Button",{staticClass:"input-cta",attrs:{color:"neutral",variant:"outline"},nativeOn:{click:function(e){return t.handleChangeAvatar.apply(null,arguments)}}},[t._v("\n\t\t\t\t"+t._s(t.$t?t.$t("page.user_settings.account_settings.change_photo"):"Change photo")+"\n\t\t\t")]),t._v(" "),e("input",{ref:"avatarInput",attrs:{id:"avatar_input",type:"file",accept:"image/png, image/jpeg, image/jpg"},on:{input:t.previewAvatar}})],1)])])}),[],!1,null,"0125da46",null);e.a=component.exports}}]);
//# sourceMappingURL=m0v51r1f.8af49133.js.map